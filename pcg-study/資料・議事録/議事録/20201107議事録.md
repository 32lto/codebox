# 20201107議事録

## アジェンダ
- インフラ進捗報告
- 過去作業内容について解説
    →ドキュメントと作業ログからすべてを察するのは面倒と思うので、  
    　気になる点があればこの場で口頭で説明します。
- インフラ今後のタスク
- 担当割り当て（インフラ）
- ログインマクロ使用手順ご連携

## ★インフラ進捗報告
### AWS環境セットアップ（使ったものを列挙）
    VPC、EC2、セキュリティグループ、IAM、ALB、Certificate Manager、RDS、Route53、CloudFormation
### Webサーバ・Webアプリケーションサーバ設定（EC2）
- ユーザ変更（ec2-userを削除して別途管理ユーザ「pcg-adman」を作成 ）  
- SSH鍵ペアの新規作成 
- 起動時Route53レコード自動設定スクリプト作成   
    →EIP使わなくても起動後すぐにドメイン名でログインできる  
- Nginxのインストールと設定（HWEB）  
- uWSGIのインストールと設定（HAPL)  
- Python3/Flaskのインストール  
- サービス作成（uWSGI）  
    →systemctlコマンドで起動、停止可能に  
- ログローテート設定  


## ★過去作業内容について解説


## ★インフラ今後のタスク
### HWEBサーバ（Nginx）の設定改善（重要さ★★☆、タスク重さ★★☆）
    →DocumentRootが初期設定だったり、パスにエイリアス使ってなかったり  
    セキュリティ設定やパフォーマンス設定はあまりタッチしていなかったり  
    課題はたくさんある。チュートリアルレベルの設定を改善していく役割。  
    汎用的なWebサーバ周りの知識がつく。  

### HWEBサーバ（uWSGI）の設定改善（重要さ★★★、タスク重さ★★☆）
    →チュートリアルレベルの設定しか入っていない。  
    現時点で次のアクションが決まっているわけではないが、  
    アプリチームがデプロイしていく上で必ず変更が必要になると思われるので、  
    その際に解決策を調査して対応していく形になる。  
    アプリチームの開発スピードにも影響が出る役回り。  

    公式ドキュメントを読んで理解するスキルや、  
    Qiitaに頼らずに技術を理解するスキルがつく？  

### Terraformによる自動化（重要さ★☆☆、タスク重さ★★★）
    クラウド（AWS)リソース構築の自動化。  
    これから（すでに）需要が右肩上がりの自動化技術の知識・スキルがつく  
    勉強のためなので実現が間に合わなくても良い。  

### Ansibleによる自動化（重要さ★☆☆、タスク重さ★★★） 
    →Ansibleサーバ構築、各ミドルウェア設定の自動化など。    
    これから（すでに）需要が右肩上がりの自動化技術の知識・スキルがつく  
    勉強のためなので実現が間に合わなくても良い。  

### 冗長化
    一度作成してALBで分散できるようになるとよい   
    できればここまでに自動化を終わらせておきたい   
    →そうすればAnsibleで数コマンドで設定できるので手間もヒューマンエラーも減る  

## ★インフラ担当割り当て
### HWEBサーバ（Nginx）の設定改善
    →小渕
### HWEBサーバ（uWSGI）の設定改善
    →内海
### Terraformによる自動化
    →石井
### Ansibleによる自動化
    →手の空いた人
### 冗長化
    →Ansible自動化終わったら空いた人で


## ★そのほか連絡事項
- ALB2台立てるとだいぶお金かかるかも問題
    →1カ月1,800円くらい？内部LB使うのやめる？


## ★ログインマクロ使用手順ご連携